<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="popup.css">
</head>

<body>
  <div class="container">
    <h2 class="title-with-logo">
      <a href="https://k13d204.p.ssafy.io" target="_blank" class="logo-link">
        <img src="images/logo_image.png" alt="POLA 로고" class="title-logo">
      </a>
    </h2>

    <!-- 로그인 전 화면 -->
    <div id="login-section" class="section">
      <div class="login-prompt">
        <p>POLA에 로그인하여 캡처 기능을 사용하세요</p>
        <button id="loginBtn" class="button button-primary">
          <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" alt="Google"
            style="width: 18px; height: 18px; margin-right: 8px;">
          Google로 로그인
        </button>
      </div>
    </div>

    <!-- 로그인 후 화면 -->
    <div id="authenticated-section" style="display: none;">
      <!-- 사용자 정보 -->
      <div class="section user-info">
        <div class="user-profile">
          <img id="userAvatar" src="" alt="프로필" class="avatar">
          <div class="user-details">
            <div id="userName" class="user-name">사용자</div>
            <div id="userEmail" class="user-email">user@email.com</div>
          </div>
        </div>
        <button id="logoutBtn" class="button-text">로그아웃</button>
      </div>

      <!-- 사용 방법 -->
      <div class="section">
        <h3>💡 사용 방법</h3>

        <!-- 간단 요약 (항상 보임) -->
        <div class="usage-summary">
          <div class="summary-item">
            <span class="summary-emoji">📸</span>
            <span>이미지: 우클릭 메뉴 또는 드래그 앤 드롭</span>
          </div>
          <div class="summary-item">
            <span class="summary-emoji">📝</span>
            <span>텍스트: 선택 후 우클릭 또는 드래그 앱 드롭</span>
          </div>
        </div>

        <!-- 상세 방법 (접었다 펼쳤다 가능) -->
        <details class="usage-details">
          <summary class="usage-toggle">📖 자세한 방법 보기</summary>

          <div class="usage-content">
            <!-- 이미지 수집 -->
            <div class="usage-category">
              <div class="category-title">📸 이미지 수집</div>
              <div class="usage-methods">
                <div class="method-item">
                  <span class="method-badge">방법 1</span>
                  <span class="method-text">페이지에서 <strong>우클릭</strong> → "영역 선택하여 캡처"</span>
                </div>
                <div class="method-item">
                  <span class="method-badge">방법 2</span>
                  <span class="method-text">이미지 위에서 <strong>우클릭</strong> → "이 이미지를 POLA에 저장"</span>
                </div>
                <div class="method-item">
                  <span class="method-badge">방법 3</span>
                  <span class="method-text">이미지를 <strong>드래그</strong>하여 나타나는 드롭존에 드롭</span>
                </div>
                <div class="method-item">
                  <span class="method-badge">방법 4</span>
                  <span class="method-text">아래 드롭존에 <strong>로컬 파일</strong> 업로드</span>
                </div>
              </div>
            </div>

            <!-- 텍스트 수집 -->
            <div class="usage-category">
              <div class="category-title">📝 텍스트 수집</div>
              <div class="usage-methods">
                <div class="method-item">
                  <span class="method-badge">방법 1</span>
                  <span class="method-text">텍스트 <strong>선택</strong> → 우클릭 → "선택한 텍스트 가져오기"</span>
                </div>
                <div class="method-item">
                  <span class="method-badge">방법 2</span>
                  <span class="method-text">텍스트를 <strong>선택 후 드래그</strong>하여 드롭존에 드롭</span>
                </div>
              </div>
            </div>

            <!-- 팁 -->
            <div class="usage-tip">
              <span class="tip-icon">💡</span>
              <span class="tip-text"><strong>Tip:</strong> 드래그 앤 드롭이 가장 빠릅니다!</span>
            </div>
          </div>
        </details>
      </div>

      <!-- 이미지 업로드 -->
      <div class="section">
        <h3>이미지 업로드</h3>
        <div id="dropZone" class="drop-zone">
          <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M17 8l-5-5-5 5M12 3v12" />
          </svg>
          <p>이미지를 드래그하거나 클릭하여 업로드</p>
          <p style="font-size: 12px; color: #999; margin-top: 4px;">지원 형식: PNG, JPEG, WebP</p>
          <input type="file" id="fileInput" accept="image/png,image/jpeg,image/jpg,image/webp" style="display: none;">
        </div>
        <div id="uploadStatus" style="display: none;"></div>
      </div>

      <!-- 상태 -->
      <div class="section">
        <h3>상태</h3>
        <div class="status">
          <span class="status-dot"></span>
          <span>POLA와 연결됨</span>
        </div>
      </div>

      <!-- 로딩 인디케이터 -->
      <div id="loading" style="display: none;">
        <div class="loading-spinner"></div>
        <p class="loading-text">로그인 중...</p>
      </div>

      <div class="footer">
        <small>
          © 2025 POLA. All rights reserved.
          | 버전 1.1.1
          | <a href="mailto:starforce.mozzi@gmail.com">문의하기</a>
        </small>
      </div>
    </div>

    <script src="popup.js"></script>
</body>

</html>